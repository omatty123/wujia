<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>ÂõõÂ§ßÂì≤Â≠¶ÊµÅÊ¥æ ‚Äî Interactive Matrix</title>
<style>
  * {margin:0;padding:0;box-sizing:border-box}
  body {
    font-family: 'Georgia', serif;
    background: linear-gradient(135deg,#1a1a2e 0%,#16213e 100%);
    color:#e8e8e8;
    padding:40px 20px;
    min-height:100vh;
  }
  .container {max-width:1600px;margin:0 auto}
  h1 {
    text-align:center;
    font-size:2.5em;
    margin-bottom:10px;
    background:linear-gradient(45deg,#d4af37,#f4e4c1);
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
  }
  .subtitle{text-align:center;color:#a8a8a8;margin-bottom:20px;font-style:italic}
  .instructions{text-align:center;color:#bbb;margin-bottom:20px}
  .table-wrapper {
    overflow-x:auto;
    background:rgba(255,255,255,0.03);
    border-radius:15px;
    padding:20px;
    backdrop-filter:blur(10px);
    border:1px solid rgba(255,255,255,0.1);
  }
  table{width:100%;border-collapse:collapse;background:rgba(0,0,0,0.2);border-radius:10px;overflow:hidden}
  th {
    background:rgba(255,255,255,0.1);
    padding:20px 15px;
    text-align:left;
    font-size:1.1em;
    border-bottom:2px solid rgba(255,255,255,0.2);
    position:sticky;top:0;z-index:10;
  }
  th:first-child {
    background:rgba(255,255,255,0.15);
    font-weight:bold;
    color:#d4af37;
    width:180px;
  }
  .ru-header{color:#d4af37;border-bottom:3px solid #d4af37}
  .dao-header{color:#4a90e2;border-bottom:3px solid #4a90e2}
  .mo-header{color:#50c878;border-bottom:3px solid #50c878}
  .fa-header{color:#e74c3c;border-bottom:3px solid #e74c3c}
  td {
    padding:20px 15px;
    vertical-align:top;
    border-bottom:1px solid rgba(255,255,255,0.05);
    min-height:80px;
  }
  td:first-child {
    background:rgba(255,255,255,0.05);
    font-weight:600;
    color:#d4af37;
    border-right:1px solid rgba(255,255,255,0.1);
  }
  .dropzone {
    min-height:120px;
    padding:5px;
    border-radius:8px;
    border:1px dashed rgba(255,255,255,0.2);
  }
  .highlight{border:2px dashed #f4e4c1 !important}
  .draggable {
    background:rgba(255,255,255,0.08);
    padding:6px 10px;
    margin:5px 0;
    border-radius:5px;
    cursor:grab;
    display:flex;
    justify-content:space-between;
    align-items:center;
  }
  .draggable.correct{border:2px solid #4caf50}
  .draggable.incorrect{border:2px solid #e74c3c}
  .speaker {
    background:none;border:none;cursor:pointer;
    font-size:1em;margin-left:8px;color:#f4e4c1;
  }
  .btnbar{text-align:center;margin:20px}
  .btn {
    background:#d4af37;color:#000;
    border:none;padding:10px 20px;
    border-radius:8px;cursor:pointer;
    margin:5px;
  }
  .btn:hover{background:#f4e4c1}
  .btn-ghost{background:transparent;color:#d4af37;border:1px solid #d4af37}
  .bank-wrapper {
    margin-top:40px;
    background:rgba(255,255,255,0.03);
    border-radius:15px;
    padding:20px;
    border:1px solid rgba(255,255,255,0.1);
  }
  .bank-title{text-align:center;font-size:1.4em;margin-bottom:10px;color:#f4e4c1}
  .items-bank{display:grid;grid-template-columns:repeat(4,1fr);gap:20px}
  .category h3{text-align:center;margin-bottom:10px;color:#d4af37}
  @media(max-width:900px){.items-bank{grid-template-columns:repeat(2,1fr)}}
  @media(max-width:600px){.items-bank{grid-template-columns:1fr}}
</style>
</head>
<body>
<div class="container">
  <h1>ÂõõÂ§ßÂì≤Â≠¶ÊµÅÊ¥æ</h1>
  <div class="subtitle">The Four Great Philosophical Schools of Ancient China</div>
  <div class="instructions">Drag items into the matrix. You can move them anytime. Click üîä to hear Chinese terms.</div>

  <!-- MATRIX -->
  <div class="table-wrapper">
    <table>
      <thead>
        <tr>
          <th></th>
          <th class="ru-header">ÂÑíÂÆ∂ Confucianism</th>
          <th class="dao-header">ÈÅìÂÆ∂ Daoism</th>
          <th class="mo-header">Â¢®ÂÆ∂ Mohism</th>
          <th class="fa-header">Ê≥ïÂÆ∂ Legalism</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Key People</td>
          <td class="dropzone" data-category="Key People" data-school="ÂÑíÂÆ∂"></td>
          <td class="dropzone" data-category="Key People" data-school="ÈÅìÂÆ∂"></td>
          <td class="dropzone" data-category="Key People" data-school="Â¢®ÂÆ∂"></td>
          <td class="dropzone" data-category="Key People" data-school="Ê≥ïÂÆ∂"></td>
        </tr>
        <tr>
          <td>Key Concepts</td>
          <td class="dropzone" data-category="Key Concepts" data-school="ÂÑíÂÆ∂"></td>
          <td class="dropzone" data-category="Key Concepts" data-school="ÈÅìÂÆ∂"></td>
          <td class="dropzone" data-category="Key Concepts" data-school="Â¢®ÂÆ∂"></td>
          <td class="dropzone" data-category="Key Concepts" data-school="Ê≥ïÂÆ∂"></td>
        </tr>
        <tr>
          <td>Key Aphorisms</td>
          <td class="dropzone" data-category="Aphorisms" data-school="ÂÑíÂÆ∂"></td>
          <td class="dropzone" data-category="Aphorisms" data-school="ÈÅìÂÆ∂"></td>
          <td class="dropzone" data-category="Aphorisms" data-school="Â¢®ÂÆ∂"></td>
          <td class="dropzone" data-category="Aphorisms" data-school="Ê≥ïÂÆ∂"></td>
        </tr>
        <tr>
          <td>Contemporary Applications</td>
          <td class="dropzone" data-category="Applications" data-school="ÂÑíÂÆ∂"></td>
          <td class="dropzone" data-category="Applications" data-school="ÈÅìÂÆ∂"></td>
          <td class="dropzone" data-category="Applications" data-school="Â¢®ÂÆ∂"></td>
          <td class="dropzone" data-category="Applications" data-school="Ê≥ïÂÆ∂"></td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="btnbar">
    <button class="btn" onclick="checkAnswers()">Check Answers</button>
    <button class="btn btn-ghost" onclick="resetBoard()">Reset</button>
  </div>

  <!-- BANK -->
  <div class="bank-wrapper">
    <div class="bank-title">Answer Bank</div>
    <div class="items-bank">
      <div class="category dropzone" id="key-people-bank" data-bank="Key People"><h3>Key People</h3></div>
      <div class="category dropzone" id="key-concepts-bank" data-bank="Key Concepts"><h3>Key Concepts</h3></div>
      <div class="category dropzone" id="key-aphorisms-bank" data-bank="Aphorisms"><h3>Key Aphorisms</h3></div>
      <div class="category dropzone" id="applications-bank" data-bank="Applications"><h3>Applications</h3></div>
    </div>
  </div>
</div>

<script>
/* ==== Example Items (you can expand with your full lists) ==== */
const keyPeopleItems = [
  {id:"confucius",text:"Confucius (Â≠îÂ≠ê)",pronounce:"K«íngz«ê",school:"ÂÑíÂÆ∂"},
  {id:"mencius",text:"Mencius (Â≠üÂ≠ê)",pronounce:"M√®ngz«ê",school:"ÂÑíÂÆ∂"},
  {id:"xunzi",text:"Xunzi (ËçÄÂ≠ê)",pronounce:"X√∫nz«ê",school:"ÂÑíÂÆ∂"},
  {id:"laozi",text:"Laozi (ËÄÅÂ≠ê)",pronounce:"L«éoz«ê",school:"ÈÅìÂÆ∂"},
  {id:"zhuangzi",text:"Zhuangzi (Â∫ÑÂ≠ê)",pronounce:"ZhuƒÅngz«ê",school:"ÈÅìÂÆ∂"},
  {id:"liezi",text:"Liezi (ÂàóÂ≠ê)",pronounce:"Li√®z«ê",school:"ÈÅìÂÆ∂"},
  {id:"mozi",text:"Mozi (Â¢®Â≠ê)",pronounce:"M√≤z«ê",school:"Â¢®ÂÆ∂"},
  {id:"hanfeizi",text:"Han Feizi (Èü©ÈùûÂ≠ê)",pronounce:"H√°n Fƒìiz«ê",school:"Ê≥ïÂÆ∂"}
];
const keyConceptsItems = [
  {id:"ren",text:"Ren (‰ªÅ) ‚Äì Benevolence",pronounce:"R√©n",school:"ÂÑíÂÆ∂"},
  {id:"li",text:"Li (Á§º) ‚Äì Ritual",pronounce:"L«ê",school:"ÂÑíÂÆ∂"},
  {id:"dao",text:"Dao (ÈÅì) ‚Äì The Way",pronounce:"D√†o",school:"ÈÅìÂÆ∂"},
  {id:"jianai",text:"Jian Ai (ÂÖºÁà±) ‚Äì Universal Love",pronounce:"JiƒÅn √Äi",school:"Â¢®ÂÆ∂"},
  {id:"fa",text:"Fa (Ê≥ï) ‚Äì Law",pronounce:"F«é",school:"Ê≥ïÂÆ∂"}
];
const aphorismItems = [
  {id:"ru-1",text:"Â∑±ÊâÄ‰∏çÊ¨≤ÔºåÂãøÊñΩ‰∫é‰∫∫",pronounce:"J«ê su«í b√π y√π, w√π shƒ´ y√∫ r√©n",school:"ÂÑíÂÆ∂"},
  {id:"dao-1",text:"Êó†‰∏∫ËÄåÊ≤ª",pronounce:"W√∫w√©i √©r zh√¨",school:"ÈÅìÂÆ∂"},
  {id:"mo-1",text:"ÂÖºÁà±",pronounce:"JiƒÅn √†i",school:"Â¢®ÂÆ∂"},
  {id:"fa-1",text:"‰ª•Ê≥ïÊ≤ªÂõΩ",pronounce:"Y«ê f«é zh√¨gu√≥",school:"Ê≥ïÂÆ∂"}
];
const applicationItems = [
  {id:"ru-app",text:"Social harmony",school:"ÂÑíÂÆ∂"},
  {id:"dao-app",text:"Environmental sustainability",school:"ÈÅìÂÆ∂"},
  {id:"mo-app",text:"Conflict resolution",school:"Â¢®ÂÆ∂"},
  {id:"fa-app",text:"Rule of law",school:"Ê≥ïÂÆ∂"}
];

/* ==== Answer Key ==== */
const answerKey = {
  "Key People": {"ÂÑíÂÆ∂":["confucius","mencius","xunzi"],"ÈÅìÂÆ∂":["laozi","zhuangzi","liezi"],"Â¢®ÂÆ∂":["mozi"],"Ê≥ïÂÆ∂":["hanfeizi"]},
  "Key Concepts": {"ÂÑíÂÆ∂":["ren","li"],"ÈÅìÂÆ∂":["dao"],"Â¢®ÂÆ∂":["jianai"],"Ê≥ïÂÆ∂":["fa"]},
  "Aphorisms": {"ÂÑíÂÆ∂":["ru-1"],"ÈÅìÂÆ∂":["dao-1"],"Â¢®ÂÆ∂":["mo-1"],"Ê≥ïÂÆ∂":["fa-1"]},
  "Applications": {"ÂÑíÂÆ∂":["ru-app"],"ÈÅìÂÆ∂":["dao-app"],"Â¢®ÂÆ∂":["mo-app"],"Ê≥ïÂÆ∂":["fa-app"]}
};

/* === Utilities === */
function shuffle(a){for(let i=a.length-1;i>0;i--){let j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]];}return a}
function makeDraggable(item,home){
  const div=document.createElement("div");
  div.className="draggable";div.draggable=true;
  div.dataset.id=item.id;div.dataset.home=home;
  div.innerHTML=`<span>${item.text}</span>`+(item.pronounce?`<button class="speaker" data-pronounce="${item.pronounce}">üîä</button>`:"");
  div.addEventListener("dragstart",e=>{e.dataTransfer.setData("text/plain",item.id)});
  return div;
}
function renderBank(items,id){const box=document.getElementById(id);box.innerHTML="<h3>"+box.querySelector("h3").innerText+"</h3>";shuffle(items).forEach(it=>box.appendChild(makeDraggable(it,id)))}

/* === Init === */
document.addEventListener("DOMContentLoaded",()=>{
  renderBank([...keyPeopleItems],"key-people-bank");
  renderBank([...keyConceptsItems],"key-concepts-bank");
  renderBank([...aphorismItems],"key-aphorisms-bank");
  renderBank([...applicationItems],"applications-bank");

  document.querySelectorAll(".dropzone").forEach(zone=>{
    zone.addEventListener("dragover",e=>{e.preventDefault();zone.classList.add("highlight")});
    zone.addEventListener("dragleave",()=>zone.classList.remove("highlight"));
    zone.addEventListener("drop",e=>{
      e.preventDefault();zone.classList.remove("highlight");
      const id=e.dataTransfer.getData("text/plain");
      const el=document.querySelector(`.draggable[data-id='${id}']`);
      if(el) zone.appendChild(el);
    });
  });

  document.body.addEventListener("click",e=>{
    if(e.target.classList.contains("speaker")){
      const txt=e.target.dataset.pronounce;
      const ut=new SpeechSynthesisUtterance(txt);
      ut.lang="zh-CN";
      speechSynthesis.speak(ut);
    }
  });
});

/* === Check & Reset === */
function checkAnswers(){
  document.querySelectorAll(".dropzone").forEach(zone=>{
    if(zone.dataset.school){
      const cat=zone.dataset.category,sch=zone.dataset.school;
      zone.querySelectorAll(".draggable").forEach(d=>{
        const ok=answerKey[cat][sch].includes(d.dataset.id);
        d.classList.remove("correct","incorrect");
        d.classList.add(ok?"correct":"incorrect");
      });
    }
  });
}
function resetBoard(){
  document.querySelectorAll(".draggable").forEach(el=>{
    const home=el.dataset.home;
    document.getElementById(home).appendChild(el);
    el.classList.remove("correct","incorrect");
  });
}
</script>
</body>
</html>
